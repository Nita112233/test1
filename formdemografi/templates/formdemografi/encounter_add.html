<!DOCTYPE html>
<html>
<head>
    <title>Multiformset Demo</title>
    <script src="{{ STATIC_URL }}js/jquery.min.js"></script>
    <script src="{{ STATIC_URL }}js/jquery.formset.js"></script>
    <script type="text/javascript">
        $(function() {
            $(".inline.{{ patient_identifier_formset.prefix }}").formset({
                prefix: "{{ patient_identifier_formset.prefix }}",
            })
            $(".inline.{{ patient_humanname_formset.prefix }}").formset({
                prefix: "{{ patient_humanname_formset.prefix }}",
            })
            $(".inline.{{ patient_contactpoint_formset.prefix }}").formset({
                prefix: "{{ patient_contactpoint_formset.prefix }}",
            })
            $(".inline.{{ patient_address_formset.prefix }}").formset({
                prefix: "{{ patient_address_formset.prefix }}",
            })
            $(".inline.{{ patient_attachment_formset.prefix }}").formset({
                prefix: "{{ patient_attachment_formset.prefix }}",
            })
            $(".inline.{{ patient_contact_formset.prefix }}").formset({
                prefix: "{{ patient_contact_formset.prefix }}",
            })
        })
    </script>
</head>

<body>
    <div>
        <h1>Add Recipe</h1>
        <form action="." method="post">
            {% csrf_token %}
            <div>
                {{ form.as_p }}
            </div>
            <fieldset>
                <legend>Identifier</legend>
                {{ patient_identifier_formset.management_form }}
                {{ patient_identifier_formset.non_form_errors }}
                {% for form in patient_identifier_formset %}
                    {{ form.id }}
                    <div class="inline {{ patient_identifier_formset.prefix }}">
                        {{ form.Type.errors }}
                        {{ form.Type.label_tag }}
                        {{ form.Type }}
                        {{ form.value.errors }}
                        {{ form.value.label_tag }}
                        {{ form.value }}
                    </div>
                {% endfor %}
            </fieldset>
            <fieldset>
                <legend>Nama</legend>
                {{ patient_humanname_formset.management_form }}
                {{ patient_humanname_formset.non_form_errors }}
                {% for form in patient_humanname_formset %}
                    {{ form.id }}
                    <div class="inline {{ patient_humanname_formset.prefix }}">
                        {{ form.text.errors }}
                        {{ form.text.label_tag }}
                        {{ form.text }}
                        {{ form.family.errors }}
                        {{ form.family.label_tag }}
                        {{ form.family }}
                        {{ form.given.errors }}
                        {{ form.given.label_tag }}
                        {{ form.given }}
                    </div>
                {% endfor %}
            </fieldset>
            <fieldset>
                <legend>Kontak</legend>
                {{ patient_contactpoint_formset.management_form }}
                {{ patient_contactpoint_formset.non_form_errors }}
                {% for form in patient_contactpoint_formset %}
                    {{ form.id }}
                    <div class="inline {{ patient_contactpoint_formset.prefix }}">
                        {{ form.system.errors }}
                        {{ form.system.label_tag }}
                        {{ form.system }}
                        {{ form.value.errors }}
                        {{ form.value.label_tag }}
                        {{ form.value }}
                    </div>
                {% endfor %}
            </fieldset>
            <fieldset>
                <legend>Alamat</legend>
                {{ patient_address_formset.management_form }}
                {{ patient_address_formset.non_form_errors }}
                {% for form in patient_address_formset %}
                    {{ form.id }}
                    <div class="inline {{ patient_address_formset.prefix }}">
                        {{ form.use.errors }}
                        {{ form.use.label_tag }}
                        {{ form.use }}
                        {{ form.Type.errors }}
                        {{ form.Type.label_tag }}
                        {{ form.Type }}
                        {{ form.text.errors }}
                        {{ form.text.label_tag }}
                        {{ form.text }}
                        {{ form.line.errors }}
                        {{ form.line.label_tag }}
                        {{ form.line }}
                        {{ form.city.errors }}
                        {{ form.city.label_tag }}
                        {{ form.city }}
                        {{ form.district.errors }}
                        {{ form.district.label_tag }}
                        {{ form.district }}
                        {{ form.state.errors }}
                        {{ form.state.label_tag }}
                        {{ form.state }}
                        {{ form.postalCode.errors }}
                        {{ form.postalCode.label_tag }}
                        {{ form.postalCode }}
                        {{ form.country.errors }}
                        {{ form.country.label_tag }}
                        {{ form.country }}
                    </div>
                {% endfor %}
            </fieldset>
            <fieldset>
                <legend>Attachment</legend>
                {{ patient_attachment_formset.management_form }}
                {{ patient_attachment_formset.non_form_errors }}
                {% for form in patient_attachment_formset %}
                    {{ form.id }}
                    <div class="inline {{ patient_attachment_formset.prefix }}">
                        {{ form.url.errors }}
                        {{ form.url.label_tag }}
                        {{ form.url }}
                        {{ form.title.errors }}
                        {{ form.title.label_tag }}
                        {{ form.title }}
                    </div>
                {% endfor %}
            </fieldset>

            <!-- inlineformset dalam inlineformset : not solved-->

            <!-- <fieldset>
                <legend>Nama</legend>
                {{ patient_contact_formset.management_form }}
                {{ patient_contact_formset.non_form_errors }}
                {% for form in patient_contact_formset %}
                    {{ form.id }}
                    <div class="inline {{ patient_contact_formset.prefix }}">
                        {{ form..errors }}
                        {{ form..label_tag }}
                        {{ form. }}
                        {{ form..errors }}
                        {{ form..label_tag }}
                        {{ form. }}
                    </div>
                {% endfor %}
            </fieldset> -->

            <input type="submit" value="Add patient" class="submit" />
        </form>
    </div>
</body>
</html>